[gd_scene load_steps=4 format=3 uid="uid://c6a3toel8dyh8"]

[ext_resource type="Script" path="res://Scripts/MinigameManager.gd" id="1_bm421"]
[ext_resource type="PackedScene" uid="uid://4cmku5owv4jy" path="res://Scenes/MinigameApplause/MinigameApplause.tscn" id="2_xedsu"]

[sub_resource type="FontFile" id="FontFile_swxh0"]
face_index = null
embolden = null
transform = null
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/16/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/16/0/kerning_overrides/60/0 = Vector2(0, 0)
cache/0/60/0/ascent = 0.0
cache/0/60/0/descent = 0.0
cache/0/60/0/underline_position = 0.0
cache/0/60/0/underline_thickness = 0.0
cache/0/60/0/scale = 1.0
cache/0/60/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/60/0/kerning_overrides/60/0 = Vector2(0, 0)

[node name="MinigameManager" type="Node"]
script = ExtResource("1_bm421")
minigames = Array[PackedScene]([ExtResource("2_xedsu")])

[node name="PostMiniGameDelay" type="Timer" parent="."]
wait_time = 4.0
one_shot = true

[node name="GameTimer" type="Timer" parent="."]
one_shot = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TimeLeftProgressBar" type="ProgressBar" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -275.0
offset_top = -309.0
offset_right = 244.0
offset_bottom = -281.0
grow_horizontal = 2
grow_vertical = 2

[node name="TimeLeftText" type="Label" parent="CanvasLayer/TimeLeftProgressBar"]
unique_name_in_owner = true
visible = false
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 23.0
offset_top = -13.0
offset_right = 100.0
offset_bottom = 13.0
grow_vertical = 2
text = "Time left: "

[node name="MinigameView" type="Panel" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -275.0
offset_top = -275.0
offset_right = 250.0
offset_bottom = 250.0
grow_horizontal = 2
grow_vertical = 2

[node name="SubViewportContainer" type="SubViewportContainer" parent="CanvasLayer/MinigameView"]
clip_contents = true
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -256.0
offset_top = -256.0
offset_right = 256.0
offset_bottom = 256.0
grow_horizontal = 2
grow_vertical = 2

[node name="MinigameViewport" type="SubViewport" parent="CanvasLayer/MinigameView/SubViewportContainer"]
unique_name_in_owner = true
disable_3d = true
handle_input_locally = false
render_target_update_mode = 0

[node name="WinLabel" type="Label" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -120.0
offset_top = -39.5
offset_right = 120.0
offset_bottom = 39.5
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = SubResource("FontFile_swxh0")
theme_override_font_sizes/font_size = 60
text = "You win!"

[connection signal="timeout" from="PostMiniGameDelay" to="." method="_on_post_mini_game_delay_timeout"]
[connection signal="timeout" from="GameTimer" to="." method="_on_game_timer_timeout"]
